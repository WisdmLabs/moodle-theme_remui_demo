/**
 * @module     theme_remui/remuiloader
 * @copyright (c) 2020 WisdmLabs (https://wisdmlabs.com/)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_remui/remuiloader",["jquery"],(function($){const registerCommonEvents=()=>{$(document).on("click",'[data-key="addblock"]',(function(){setTimeout((function(){$('.modal[data-region="modal-container"]').addClass("fullwidth-modal")}),500)})),msgBodyViewFavourite.on("click",(function(e){stopCollapseInMsgPanel(msgBodyViewFavourite,e)})),msgBodyViewGroupmsg.on("click",(function(e){stopCollapseInMsgPanel(msgBodyViewGroupmsg,e)})),msgBodyViewPrivate.on("click",(function(e){stopCollapseInMsgPanel(msgBodyViewPrivate,e)})),msgPanelBodyViewFavourite.on("click",(function(e){stopCollapseInMsgPanel(msgPanelBodyViewFavourite,e)})),msgPanelBodyViewGroupmsg.on("click",(function(e){stopCollapseInMsgPanel(msgPanelBodyViewGroupmsg,e)})),msgPanelBodyViewPrivate.on("click",(function(e){stopCollapseInMsgPanel(msgPanelBodyViewPrivate,e)})),$(".nav-grouping-selector ul li ").on("click",(function(){$(this).siblings("li").find("a").removeAttr("aria-current",!1),$(this).find("a").attr("aria-current",!0)})),$(".nav-display-selector ul li ").on("click",(function(){$(this).siblings("li").find("a").removeAttr("aria-current",!1),$(this).siblings("li").find("span").removeAttr("aria-current",!1),$(this).find("a").attr("aria-current",!0),$(this).find("span").attr("aria-current",!0)})),$(window).scroll((function(){transparentheaderhanlder()})),$(".category-wrapper .toggle-btn").on("click",(function(){console.log("listner is working fine"),setTimeout((()=>{$(this).closest(".dropdown-menu").addClass("show")}),1)})),$(document).on("click",(function(e){$(".dropdown").is(e.target)||0!==$(".dropdown").has(e.target).length||$(".category-wrapper .toggle-btn").closest(".dropdown-menu").removeClass("show")})),registerGoToTopEvents(),registerShowPasswordAction()};var msgBodyViewFavourite=$('[data-region="body-container"]').find('[data-region="view-overview-favourites"]'),msgBodyViewGroupmsg=$('[data-region="body-container"]').find('[data-region="view-overview-group-messages"]'),msgBodyViewPrivate=$('[data-region="body-container"]').find('[data-region="view-overview-messages"]'),msgPanelBodyViewFavourite=$('[data-region="panel-body-container"]').find('[data-region="view-overview-favourites"]'),msgPanelBodyViewGroupmsg=$('[data-region="panel-body-container"]').find('[data-region="view-overview-group-messages"]'),msgPanelBodyViewPrivate=$('[data-region="panel-body-container"]').find('[data-region="view-overview-messages"]');const transparentheaderhanlder=()=>{var transparentheader=!1;if($(".navbar").hasClass("trasnparent-home-nav")&&(transparentheader=!0),$("body.pagelayout-frontpage").removeClass("transparent-header"),transparentheader){if($(window).scrollTop()<45){var hasedwcarouselclass=$("#block-region-full-width-top").children().first().find("div").hasClass("edw-carousel"),hascarouselclass=$("#block-region-full-width-top").children().first().find("div").hasClass("carousel"),hastestimonial=!1,hashomepagetestimonial=$("#block-region-full-width-top").children().first().find("section").hasClass("section-testimonial");if(hasedwcarouselclass){var idAttribute=$("#block-region-full-width-top").children().first().find("div.edw-carousel").attr("id");idAttribute&&-1!==idAttribute.indexOf("testimonial")&&(hastestimonial=!0)}return!hascarouselclass&&!hasedwcarouselclass||hashomepagetestimonial||hastestimonial||$("body.pagelayout-frontpage").addClass("transparent-header"),void($(".old-frontpage .frontpage-sections #edwiser-slider").children().first().hasClass("carousel")&&$("body.pagelayout-frontpage").addClass("transparent-header"))}$("body.pagelayout-frontpage").removeClass("transparent-header")}},stopCollapseInMsgPanel=($this,e)=>{$this.hasClass("expanded")&&(e.preventDefault(),e.stopPropagation())},generateDropdownSearch=dropdownselector=>{var _catmenus=$(dropdownselector+"+ .dropdown-menu"),sr_text=M.util.get_string("searchcatplaceholdertext","theme_remui"),_inputfield='<div class="simplesearchform edw-search-field catsearchfield p-3 d-none">';_inputfield+='<div class="input-group d-flex align-items-center">',_inputfield+='<label for="header-category-searchinput">',_inputfield+='<span class="sr-only">Search</span>',_inputfield+="</label>",_inputfield+='<div class="input-group-prepend">',_inputfield+='<button type="submit" class="btn btn-submit" data-action="submit">',_inputfield+='<span class="edw-icon edw-icon-Search"></span>',_inputfield+='<span class="sr-only">'+sr_text+"</span>",_inputfield+="</button>",_inputfield+="</div>",_inputfield+='<input tabindex="1" type="text" id="header-category-searchinput" class="catsearch form-control withclear navigation-text" placeholder="'+sr_text+'" aria-label="'+sr_text+'" name="catsearch">',_inputfield+="</div>",_catmenus.prepend(_inputfield),$(".catsearch-item").unbind(),$(".catsearch-item .catsearch").unbind(),_catmenus.find(".catsearch").on("keyup",(function(e){if(32==e.which)return!0;!function(){var filter,a,i;for(filter=$(".catselector-menu + .dropdown-menu").find(".catsearch").val().toUpperCase(),a=_catmenus.find("a"),i=0;i<a.length;i++){var _txtval=a[i].textContent||a[i].innerText;(_txtval=_txtval.split(" ").join("")).toUpperCase().indexOf(filter)>-1?a[i].style.display="":a[i].style.display="none"}}()}))},registerGoToTopEvents=()=>{$("#gotop").click((function(){return $("html, body").animate({scrollTop:0},$(window).scrollTop()/6),!1})),$(window).scroll((function(){$(this).scrollTop()>300?$("#gotop").removeClass("d-none").addClass("d-flex"):$("#gotop").removeClass("d-flex").addClass("d-none")}))},registerShowPasswordAction=()=>{$(".password-field-eye .show-password-icon").hover((function(){$('.password-field-eye input[name="password"]').attr("type","text")}),(function(){$('.password-field-eye input[name="password"]').attr("type","password")}))};function handleSiteAnnouncementPosition(){if($(".page_sub_header").length){let navbarheight=$('#page-wrapper nav.navbar[aria-label="Site navigation"]').outerHeight(),demonavbarheight=$(".demo-navbar").outerHeight(),subpageheaderheight=$(".page_sub_header").outerHeight(),siteannouncementheight=$(".site-announcement").outerHeight();$(".page_sub_header").css("margin-top",navbarheight+demonavbarheight),$("#page.drawers").css("margin-top",navbarheight+demonavbarheight+subpageheaderheight),$(".drawer-toggler").css("margin-top",subpageheaderheight+siteannouncementheight),$(".site-announcement").length&&($("#region-fullwidthtop-blocks").css("margin-top",siteannouncementheight),window.innerWidth<1024?$(".site-announcement").css("top",navbarheight+demonavbarheight+subpageheaderheight):$(".site-announcement").css("top",0))}else if($(".site-announcement").length){let navbarheight=$('#page-wrapper nav.navbar[aria-label="Site navigation"]').outerHeight(),demonavbarheight=$(".demo-navbar").outerHeight(),siteannouncementheight=$(".site-announcement").outerHeight();$(".drawer-toggler").css("margin-top",siteannouncementheight),$("#page.drawers").css("margin-top",navbarheight+demonavbarheight),$("#region-fullwidthtop-blocks").css("margin-top",siteannouncementheight),window.innerWidth<1024?$(".site-announcement").css("top",navbarheight+demonavbarheight):$(".site-announcement").css("top",0)}}return{init:function(){if(registerCommonEvents(),handleSiteAnnouncementPosition(),$(window).on("load",(function(){handleSiteAnnouncementPosition()})),$(window).resize((function(){console.log("resize"),handleSiteAnnouncementPosition()})),$(".catselector-menu").length&&generateDropdownSearch(".catselector-menu"),$("#page-search-index .search-results").length){var searchdata=$("#page-search-index  #id_searchcontainer [name=q]").val();searchdata="<div class=' p-mt-2 h-regular-6'>"+M.util.get_string("searchresultdesctext","theme_remui")+" `"+searchdata+"`</div>",console.log(searchdata),$("#page-search-index  .page-header-headings").append(searchdata)}else{var htmldata='<div class="search-results">'+M.util.get_string("noresutssearchmsg","theme_remui")+"</div>";$("#page-search-index #region-main  [role = main]").append(htmldata)}$("#page-search-index .search-result-count").detach().prependTo("#page-search-index #region-main"),$("#page-search-index .search-result-count").removeClass("d-none"),transparentheaderhanlder()}}}));

//# sourceMappingURL=remuiloader.min.js.map