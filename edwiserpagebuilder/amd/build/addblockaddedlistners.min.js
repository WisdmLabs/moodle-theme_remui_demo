define("local_edwiserpagebuilder/addblockaddedlistners",["exports","core/str","core/ajax","jquery","core/notification"],(function(_exports,_str,_ajax,_jquery,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Show an add block modal instead of doing it on a separate page.
   *
   * @module     theme_remui/addblockaddedlistners
   * @copyright  2016 Damyon Wiese <damyon@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){let scrollInterval;document.addEventListener("click",(e=>{const selecteditem=e.target.closest(".add-block-grid-view");templatefile="theme_remui/add_block_body_cards",selecteditem&&(activeclassview="grid-view",notactiveclassview="list-view",userprefclass=SELECTORS_ADDBLOCKGRIDVIEW,usernotprefclass=SELECTORS_ADDBLOCKLISTVIEW,(0,_jquery.default)(userprefclass).addClass("active"),(0,_jquery.default)(usernotprefclass).removeClass("active"),(0,_jquery.default)(SELECTORS_DEFAULTBLOCKWRAPPER).removeClass(notactiveclassview).addClass(activeclassview))})),document.addEventListener("click",(e=>{e.target.closest(".add-block-list-view")&&(activeclassview="list-view",notactiveclassview="grid-view",userprefclass=SELECTORS_ADDBLOCKLISTVIEW,usernotprefclass=SELECTORS_ADDBLOCKGRIDVIEW,(0,_jquery.default)(userprefclass).addClass("active"),(0,_jquery.default)(usernotprefclass).removeClass("active"),(0,_jquery.default)(SELECTORS_DEFAULTBLOCKWRAPPER).removeClass(notactiveclassview).addClass(activeclassview))})),document.addEventListener("click",(e=>{e.target.closest(".edwiseradvancedblocktab")&&(activeadvancedtab=!0,(0,_jquery.default)(".moodleblock").addClass("d-none"),(0,_jquery.default)(".advanceblockblocks").removeClass("d-none"),(0,_jquery.default)(".advancedblocktab").addClass("active show"),(0,_jquery.default)(".moodleblocktab").removeClass("active show"),(0,_jquery.default)(".action-buttons-modal").removeClass("d-none"),(0,_jquery.default)(".edw-tabs-navigation.edwiser-custom-blocks-nav").removeClass("d-none"),"undefined"!=typeof edwremuithemeinfo&&"available"==edwremuithemeinfo&&(0,_jquery.default)(".modal-subheader").addClass("p-mb-2").removeClass("p-mb-6"))})),document.addEventListener("click",(e=>{e.target.closest(".edwmoodleblockstab")&&(activeadvancedtab=!1,(0,_jquery.default)(".moodleblock").removeClass("d-none"),(0,_jquery.default)(".advanceblockblocks").addClass("d-none"),(0,_jquery.default)(".moodleblocktab").addClass("active show"),(0,_jquery.default)(".advancedblocktab").removeClass("active show"),(0,_jquery.default)(".action-buttons-modal").addClass("d-none"),(0,_jquery.default)(".modal-subheader").addClass("p-mb-6").removeClass("p-mb-2"),(0,_jquery.default)(".edw-tabs-navigation.edwiser-custom-blocks-nav").addClass("d-none"))})),document.addEventListener("click",(e=>{e.target.closest("#static-blocks-btn")&&(0,_jquery.default)(SELECTORS_DEFAULTBLOCKWRAPPER).removeClass("".concat(SELECTORS_DYNAMICBLOCKSWRAPPER," ").concat(SELECTORS_BLOCKLAYOUTWRAPPER)).addClass(SELECTORS_STATICBLOCKSWRAPPER)})),document.addEventListener("click",(e=>{e.target.closest("#dynamic-blocks-btn")&&(0,_jquery.default)(SELECTORS_DEFAULTBLOCKWRAPPER).removeClass("".concat(SELECTORS_STATICBLOCKSWRAPPER," ").concat(SELECTORS_BLOCKLAYOUTWRAPPER)).addClass(SELECTORS_DYNAMICBLOCKSWRAPPER)})),document.addEventListener("click",(e=>{e.target.closest("#layout-blocks-btn")&&(0,_jquery.default)(SELECTORS_DEFAULTBLOCKWRAPPER).removeClass("".concat(SELECTORS_DYNAMICBLOCKSWRAPPER," ").concat(SELECTORS_STATICBLOCKSWRAPPER)).addClass(SELECTORS_BLOCKLAYOUTWRAPPER)})),(0,_jquery.default)(document).on("mouseenter",".addblock-modal-body .block-page-layout",(function(){const cardHeight=(0,_jquery.default)(this).find(".card").height(),img=(0,_jquery.default)(this).find(".card img");let scrollHeight=img.height()-cardHeight+40;if(img.css("animation","unset"),scrollHeight>0){let scrolltime=scrollHeight/100;img.css("transition","top ".concat(scrolltime,"s ease-in-out")),img.css("top","".concat(-scrollHeight,"px")),img.one("transitionend",(function(){img.css("top","0px")})),scrollInterval=setInterval((function(){img.css("top","".concat(-scrollHeight,"px")),img.one("transitionend",(function(){img.css("top","0px")}))}),2e3*scrolltime)}})),(0,_jquery.default)(document).on("mouseleave",".addblock-modal-body .block-page-layout",(function(){const img=(0,_jquery.default)(this).find(".card img");img.css("transition","unset"),img.css("top","0px"),clearInterval(scrollInterval)}))},_ajax=_interopRequireDefault(_ajax),_jquery=_interopRequireDefault(_jquery);const SELECTORS_DEFAULTBLOCKWRAPPER=".modal-body  .default-blocks-wrapper",SELECTORS_ADDBLOCKGRIDVIEW=".add-block-grid-view",SELECTORS_ADDBLOCKLISTVIEW=".add-block-list-view",SELECTORS_DYNAMICBLOCKSWRAPPER="dynamic-blocks-wrapper",SELECTORS_STATICBLOCKSWRAPPER="static-blocks-wrapper",SELECTORS_BLOCKLAYOUTWRAPPER="block-layout-wrapper";let activeclassview="grid-view",notactiveclassview="list-view",userprefclass=SELECTORS_ADDBLOCKGRIDVIEW,usernotprefclass=SELECTORS_ADDBLOCKLISTVIEW,templatefile="theme_remui/add_block_body_cards",activeadvancedtab=!0}));

//# sourceMappingURL=addblockaddedlistners.min.js.map